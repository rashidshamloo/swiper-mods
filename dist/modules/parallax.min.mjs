function elementChildren(a,e){return void 0===e&&(e=""),[...a.children].filter((a=>a.matches(e)))}function Parallax(a){let{swiper:e,extendParams:t,on:r}=a;t({parallax:{enabled:!1}});const l="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-z], [data-swiper-parallax-z-initial], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(a,t)=>{const{rtl:r}=e,l=r?-1:1,s=a.getAttribute("data-swiper-parallax")||"0";let i=a.getAttribute("data-swiper-parallax-x"),p=a.getAttribute("data-swiper-parallax-y"),n=a.getAttribute("data-swiper-parallax-z"),o=a.getAttribute("data-swiper-parallax-z-initial")||"0";const d=a.getAttribute("data-swiper-parallax-scale"),x=a.getAttribute("data-swiper-parallax-opacity"),c=a.getAttribute("data-swiper-parallax-rotate");if(i||p||n?(i=i||"0",p=p||"0",n=n||"0"):e.isHorizontal()?(i=s,p="0",n="0"):(p=s,i="0",n="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*l+"%":i*t*l+"px",p=p.indexOf("%")>=0?parseInt(p,10)*t+"%":p*t+"px",n=`${parseInt(o,10)+parseInt(n,10)*t}px`,null!=x){const e=x-(x-1)*(1-Math.abs(t));a.style.opacity=e}let u=`translate3d(${i}, ${p}, ${n})`;if(null!=d){u+=` scale(${d-(d-1)*(1-Math.abs(t))})`}if(c&&null!=c){u+=` rotate(${c*t*-1}deg)`}a.style.transform=u},i=()=>{const{el:a,slides:t,progress:r,snapGrid:i,isElement:p}=e,n=elementChildren(a,l);e.isElement&&n.push(...elementChildren(e.hostEl,l)),n.forEach((a=>{s(a,r)})),t.forEach(((a,t)=>{let p=a.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(p+=Math.ceil(t/2)-r*(i.length-1)),p=Math.min(Math.max(p,-1),1),a.querySelectorAll(`${l}, [data-swiper-parallax-rotate]`).forEach((a=>{s(a,p)}))}))};r("beforeInit",(()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)})),r("init",(()=>{e.params.parallax.enabled&&i()})),r("setTranslate",(()=>{e.params.parallax.enabled&&i()})),r("setTransition",((a,t)=>{e.params.parallax.enabled&&function(a){void 0===a&&(a=e.params.speed);const{el:t,hostEl:r}=e,s=[...t.querySelectorAll(l)];e.isElement&&s.push(...r.querySelectorAll(l)),s.forEach((e=>{let t=parseInt(e.getAttribute("data-swiper-parallax-duration"),10)||a;0===a&&(t=0),e.style.transitionDuration=`${t}ms`}))}(t)}))}export{Parallax as default};
//# sourceMappingURL=parallax.min.mjs.map